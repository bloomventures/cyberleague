<!doctype html>
<html>
  <head>
    <title>The Cyber League</title>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='//fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/codemirror.min.css">
    <link rel="stylesheet" href="css/app.css">
  </head>
  <body>
    <div id="app"></div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/codemirror.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/clojure/clojure.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/mode/javascript/javascript.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.6.0/addon/edit/matchbrackets.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/react/0.11.0/react.min.js"></script>
    {{#development}}
    <script src="js/out/goog/base.js" type="text/javascript"></script>
    <script src="js/out/cyberleague.js" type="text/javascript"></script>
    <script type="text/javascript">goog.require("cyberleague.client.core");</script>
    {{/development}}
    {{#production}}
    <script src="js/out/cyberleague.min.js" type="text/javascript"></script>
    {{/production}}
    <script type="text/javascript">cyberleague.client.core.init();</script>

    <script type="text/javascript">
      window.github_app_id = "{{github-app-id}}";
      window.github_redirect_uri = "{{github-redirect-uri}}";
    </script>

    <script type="text/javascript">

var bot_graph = function(el, data){

  var margin = {top: 20, right: 0, bottom: 30, left: 50},
    width = 300 - margin.left - margin.right,
    height = 200 - margin.top - margin.bottom;

x = d3.time.scale()
  .range([0, width])
  .domain(d3.extent(data, function(d) { return d.inst; }));

xi = d3.scale.linear()
  .range([0, width])
  .domain(d3.extent(data, function(d,i) { return i; }));

y = d3.scale.linear()
  .range([height,0])
  .domain([0, 2500]);

tornadoArea = d3.svg.area()
  .interpolate('step')
  .x(function(d,i) { return xi(i); x(d.inst);})
  .y1(function(d) { return y(d.rating + d['rating-dev']);})
  .y0(function(d) { return y(d.rating - d['rating-dev']);})

middleLine = d3.svg.line()
  .x(function(d,i){return xi(i); x(d.inst);})
  .y(function(d){return y(d.rating);})
  .interpolate("step")

  yAxis = d3.svg.axis()
    .scale(y)
    .tickValues([0, 500, 1000, 1500, 2000, 2500])
    .orient("left");

graph = d3.select(el).append('svg')
  .attr('height', height + margin.top + margin.bottom)
  .attr('width', width + margin.left + margin.right)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")")

graph.append('path')
  .datum(data)
  .attr("d", tornadoArea)
  .attr("class", "area")

graph.append('path')
  .datum(data)
  .attr("class", "line")
  .attr("d", middleLine)

graph.append("g")
.attr("class", "y axis")
.call(yAxis)

}
    </script>
  </body>
</html>

